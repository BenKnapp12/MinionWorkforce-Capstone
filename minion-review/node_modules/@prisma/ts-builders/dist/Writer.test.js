"use strict";
var import_vitest = require("vitest");
var import_Writer = require("./Writer");
(0, import_vitest.test)("write string", () => {
  const writer = new import_Writer.Writer(0, void 0);
  writer.write("A").write("B").write("C");
  (0, import_vitest.expect)(writer.toString()).toBe("ABC");
});
(0, import_vitest.test)("write builder", () => {
  const builder = {
    write(writer2) {
      writer2.write("hello from builder");
    }
  };
  const writer = new import_Writer.Writer(0, void 0);
  writer.write(builder);
  (0, import_vitest.expect)(writer.toString()).toBe("hello from builder");
});
(0, import_vitest.test)("newLine", () => {
  const writer = new import_Writer.Writer(0, void 0);
  writer.newLine();
  (0, import_vitest.expect)(writer.toString()).toBe("\n");
});
(0, import_vitest.test)("writeLine", () => {
  const writer = new import_Writer.Writer(0, void 0);
  writer.writeLine("A").writeLine("B").writeLine("C");
  (0, import_vitest.expect)(writer.toString()).toBe("A\nB\nC\n");
});
(0, import_vitest.test)("writeJoined with strings", () => {
  const writer = new import_Writer.Writer(0, void 0);
  writer.writeJoined(", ", ["A", "B", "C"]);
  (0, import_vitest.expect)(writer.toString()).toBe("A, B, C");
});
(0, import_vitest.test)("writeJoined with builder values", () => {
  const writer = new import_Writer.Writer(0, void 0);
  const builder = {
    write(writer2) {
      writer2.write("builder");
    }
  };
  writer.writeJoined(", ", [builder, builder, builder]);
  (0, import_vitest.expect)(writer.toString()).toBe("builder, builder, builder");
});
(0, import_vitest.test)("writeJoined with builder separator", () => {
  const writer = new import_Writer.Writer(0, void 0);
  const separator = {
    write(writer2) {
      writer2.write("|");
    }
  };
  writer.writeJoined(separator, ["A", "B", "C"]);
  (0, import_vitest.expect)(writer.toString()).toBe("A|B|C");
});
(0, import_vitest.test)("writeJoined empty", () => {
  const writer = new import_Writer.Writer(0, void 0);
  writer.writeJoined(", ", []);
  (0, import_vitest.expect)(writer.toString()).toBe("");
});
(0, import_vitest.test)("indent", () => {
  const writer = new import_Writer.Writer(0, void 0);
  writer.indent().write("A");
  (0, import_vitest.expect)(writer.toString()).toBe("  A");
});
(0, import_vitest.test)("indent + unindent", () => {
  const writer = new import_Writer.Writer(0, void 0);
  writer.writeLine("A").indent().writeLine("B").unindent().writeLine("C");
  (0, import_vitest.expect)(writer.toString()).toBe("A\n  B\nC\n");
});
(0, import_vitest.test)("unindent beyond 0", () => {
  const writer = new import_Writer.Writer(0, void 0);
  writer.unindent().unindent().write("A");
  (0, import_vitest.expect)(writer.toString()).toBe("A");
});
(0, import_vitest.test)("withIndent", () => {
  const writer = new import_Writer.Writer(0, void 0);
  writer.writeLine("A").withIndent(() => writer.writeLine("B")).writeLine("C");
  (0, import_vitest.expect)(writer.toString()).toBe("A\n  B\nC\n");
});
(0, import_vitest.test)("after next newline callback", () => {
  const writer = new import_Writer.Writer(0, void 0);
  writer.afterNextNewline(() => {
    writer.writeLine("---");
  });
  writer.writeLine("foo");
  writer.writeLine("bar");
  (0, import_vitest.expect)(writer.toString()).toBe("foo\n---\nbar\n");
});
(0, import_vitest.test)("margin symbol", () => {
  const writer = new import_Writer.Writer(0, void 0);
  writer.writeLine("{").withIndent(() => {
    writer.addMarginSymbol("+").writeLine("foo").writeLine("bar");
  }).writeLine("}");
  (0, import_vitest.expect)(writer.toString()).toMatchInlineSnapshot(`
    "{
    + foo
      bar
    }
    "
  `);
});
